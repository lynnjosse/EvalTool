<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head">
</head>
<body class="container">

<nav th:replace="fragments :: navigation"></nav>

<h1 th:text="${title}">Default Title</h1>

<table class="table">

    <tr>
        <td>Ward</td>
        <td th:text="${building.ward}"></td>
    </tr>
    <tr>
        <td>Description</td>
        <td th:text="${building.description}"></td>
    </tr>
    <tr>
        <td>Handle</td>
        <td th:text="${building.parcelId}"></td>
    </tr>
    <tr>
        <td>Use</td>
        <td th:text="${building.bldgUse}"></td>
    </tr>
    <tr>
        <td>Neighborhood</td>
        <td th:text="${building.neighborhood}"></td>
    </tr>
    <tr>
        <td>Building square feet</td>
        <td th:text="${building.bldgSF}"></td>

    </tr>
</table>

<div id = "evalphotodiv" th:unless="${evaluation.imageSource} == null">
    <img th:src = "${evaluation.imageSource}" id="evalphoto" /></div>

<div id="mapid"></div>
<script>
    var mymap = L.map('mapid').setView([38.633, -90.253], 12);
    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox.streets',
    accessToken: 'pk.eyJ1IjoibHlubmpvc3NlIiwiYSI6ImNqOGV0Z201bTE3MWwycW1zOGJwNGtrb28ifQ.cLxuUHOptmo25ao85f-0MQ'
}).addTo(mymap);
</script>


<form method = "post" th:object="${evaluation}" >

    <div class="form-group">
        <label>Description</label>
        <textarea class="form-control" th:field="*{userDescription}" ></textarea>
    </div>

    <div class="form-check">
        <label class="form-check-label" >Any substantive collapse?</label>
        <input type = "checkbox" class="form-check-input" th:field = "*{collapse}" value = "1"/>
    </div>

    <div class="form-group">
    <label>Describe the collapse (leave blank if no collapse)</label>
    <textarea class="form-control" th:field="*{collapseNotes}"></textarea>
    </div>

    <div class="form-check">
        <label >Is the first floor securely boarded? </label>
            <input type="checkbox"  th:field = "*{boardSecure}" value = "1"/>
    </div>

    <div class="form-group">
        <label >Notes on the board-up</label>
        <textarea class="form-control" th:field="*{boardNotes}"></textarea>
    </div>

    <div class="form-group">
        <label>Notes on the roof condition (if visible)</label>
        <textarea class="form-control" th:field = "*{roofNotes}"></textarea>
    </div>

    <div class="form-group">
        <label>Notes on gutters (including whether any are present)</label>
        <textarea class="form-control" th:field = "*{gutterNotes}"></textarea>
    </div>

    <div class="form-group">
        <label th:for = "${envirNotes}">Notes on the lot</label>
        <textarea class="form-control" th:field="*{envirNotes}"></textarea>
    </div>

    <div class="form-group">
        <label th:for = "${numOfOutbuildings}">Number of outbuildings</label>
        <input type = "text" th:field = "*{numOfOutbuildings}" />
    </div>

    <div class="form-group">
        <label th:for = "${outbuildingNotes}">Notes on the outbuilding(s)</label>
        <textarea class="form-control" th:field = "*{outbuildingNotes}"  ></textarea>
    </div>

    <div class="form-group" >
        <label th:for = "${imageSource}">Image Link</label>
        <input class="form-control" type = "text" th:field = "*{imageSource}"  />
    </div>

    <input type="hidden" name="evaluationId" th:value="*{id}"/>
    <input type = "hidden" name = "buildingId" th:value="${buildingId}"/>


    <input type = "submit" value = "Submit Evaluation"/>

</form>

</body>
</html>